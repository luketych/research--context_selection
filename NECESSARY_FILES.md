# Necessary Files for Both Branches

This document lists all files that must exist in both the `all` and `main` branches for the sync system to work properly.

## Core System Files

These files enable the sync and visibility management system:

### üì¶ Package Management
- `package.json` - Contains npm scripts for sync and toggle operations

### üîß Scripts Directory
- `scripts/sync-branches.js` - Main sync script that manages branch synchronization
- `scripts/toggle-visibility.js` - Script for toggling file visibility

### ‚öôÔ∏è Configuration Files
- `.github-pages-visibility.json` - Controls which files are visible in main branch
- `.github/workflows/pages.yml` - GitHub Pages deployment configuration

### üìù Documentation
- `README.md` - Auto-generated file listing all visible documentation (generated by sync)
- `NECESSARY_FILES.md` - This file, documenting required files for both branches

## Available Commands

When these files are present in both branches, you can run:

- `npm run sync` - Sync main branch with visible files (local only)
- `npm run sync-force` - Sync main branch with visible files and push to GitHub
- `npm run toggle` - Toggle visibility of specific files

## Branch Structure

### `all` Branch
- Contains ALL files including hidden ones
- Source of truth for all project files
- Used for development and file management

### `main` Branch  
- Contains ONLY files marked as visible in `.github-pages-visibility.json`
- Used for GitHub Pages deployment
- Automatically synced from `all` branch

## Sync Process

1. Script reads visibility config from `.github-pages-visibility.json`
2. Compares files in main branch with visible files list
3. Adds missing visible files from `all` branch
4. Removes files that are no longer visible
5. Generates updated `README.md` with clickable links
6. Optionally pushes changes to GitHub

---

*Last updated: 2025-07-03*